if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometEmojiDataSourceQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4941552932586904"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiDataSourceQuery.facebook.graphql",["CometEmojiDataSourceQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],c=[{kind:"Variable",name:"category_ids",variableName:"ids"}],d=[{alias:null,args:null,concreteType:"EmojiCategory",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Emoji",kind:"LinkedField",name:"emojis_in_category",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"codepoint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometEmojiDataSourceQuery",selections:[{alias:null,args:c,concreteType:"EmojiCategoriesConnection",kind:"LinkedField",name:"emoji_categories",plural:!1,selections:[{kind:"Stream",selections:d}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometEmojiDataSourceQuery",selections:[{alias:null,args:c,concreteType:"EmojiCategoriesConnection",kind:"LinkedField",name:"emoji_categories",plural:!1,selections:[{"if":null,kind:"Stream",label:"CometEmojiDataSourceQuery$stream$nodes",selections:d}],storageKey:null}]},params:{id:b("CometEmojiDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometEmojiDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("CometEmojiDataSourceQuery.graphql",["cr:10825"],function(a,b,c,d,e,f){"use strict";e.exports=b("cr:10825")},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometCategoriesLocalizedNameQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5047649562000838"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometCategoriesLocalizedNameQuery.facebook.graphql",["useCometCategoriesLocalizedNameQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"list_id"}],c=[{kind:"Variable",name:"id",variableName:"list_id"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"EmojiCategoryListEmojiCategoriesConnection",kind:"LinkedField",name:"emoji_categories",plural:!1,selections:[{alias:null,args:null,concreteType:"EmojiCategory",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCometCategoriesLocalizedNameQuery",selections:[{alias:null,args:c,concreteType:"EmojiCategoryList",kind:"LinkedField",name:"emoji_category_list_node",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCometCategoriesLocalizedNameQuery",selections:[{alias:null,args:c,concreteType:"EmojiCategoryList",kind:"LinkedField",name:"emoji_category_list_node",plural:!1,selections:[e,d],storageKey:null}]},params:{id:b("useCometCategoriesLocalizedNameQuery_facebookRelayOperation"),metadata:{},name:"useCometCategoriesLocalizedNameQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("useCometCategoriesLocalizedNameQuery.graphql",["cr:11559"],function(a,b,c,d,e,f){"use strict";e.exports=b("cr:11559")},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("EmojiUtils",[],function(a,b,c,d,e,f){"use strict";function a(a){return a.reduce(function(a,b){b=String.fromCodePoint(b);var c=a&&a[a.length-1];return c&&c.includes(b)?a:[].concat(a,[b])},[])}f.toStringCodepoints=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiButton.react",["CometEmoji.react","CometPressable.react","EmojiUtils","clearTimeout","react","setTimeout","useMergeRefs"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useRef,m=1e3;function a(a,b){var e=a.codepoints,f=a.decreaseOpacity;f=f===void 0?!1:f;var g=a.label,n=a.onClick,o=a.onLongPress,p=a.selected,q=a.size;q=q===void 0?30:q;a=a.testid;var r=l(null);a=c("useMergeRefs")(r,b);var s=l(null);j(function(){return function(){s.current!=null&&c("clearTimeout")(s.current)}},[]);var t=l(o==null?null:function(){return o(e,r)});j(function(){t.current=o==null?null:function(){return o(e,r)};return function(){t.current=null}},[r,e,o]);var u=i(function(){t.current!=null&&t.current(),s.current=null},[]);b=i(function(){s.current!=null&&c("clearTimeout")(s.current),s.current=c("setTimeout")(u,m)},[u]);var v=i(function(){s.current!=null?(c("clearTimeout")(s.current),s.current=null,n!=null&&n(e)):t.current==null&&n!=null&&n(e)},[e,n]),w=i(function(a){a.nativeEvent instanceof KeyboardEvent&&n!=null&&n(e)},[e,n]),x=k(function(){return d("EmojiUtils").toStringCodepoints(e)},[e]);return h.jsx(c("CometPressable.react"),{label:g,onPress:w,onPressIn:b,onPressOut:v,overlayRadius:9,ref:a,testid:void 0,children:h.jsx("div",{className:"g90fjkqk hsphh064 saacjlin qfaqle58"+(p===!0?" age4883t ic315ntz j5sawac9 g5wz1qxj rm3z77c7":"")+(f===!0?" hbttzuxt":""),children:h.jsx(c("CometEmoji.react"),{emoji:x,size:q})})})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiCategories",["ix","fbicon"],function(a,b,c,d,e,f,g,h){"use strict";a=[{icon:d("fbicon")._(h("642536"),16),id:"1795127124089732"},{icon:d("fbicon")._(h("727145"),16),id:"1117693864983467"},{icon:d("fbicon")._(h("607950"),16),id:"337864463246293"},{icon:d("fbicon")._(h("585295"),16),id:"1251900681534964"},{icon:d("fbicon")._(h("1210827"),16),id:"189719128099581"},{icon:d("fbicon")._(h("492706"),16),id:"629625430553130"},{icon:d("fbicon")._(h("478990"),16),id:"1642676819358192"},{icon:d("fbicon")._(h("652652"),16),id:"1068040353319407"}];g.ORDERED_CATEGORIES=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiCategoryIcon.react",["TetraIcon.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.active,d=a.category,e=a.icon,f=a.name,g=a.onClick;a=b?"blueLink":"secondary";b=function(){return g(d)};return h.jsx("div",{className:"ihx95mk1 jbg88c62 h07fizzr qjfq86k5 q3dhrzj9 alzwoclg i85zmo3j",children:h.jsx(c("TetraIcon.react"),{"aria-label":f,color:a,icon:e,onPress:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometCategoriesLocalizedName",["CometRelay","react","useCometCategoriesLocalizedNameQuery.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo,j="314195178973439";function a(){var a={list_id:j},c=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("useCometCategoriesLocalizedNameQuery.graphql"),a),e=i(function(){var a;return(a=(a=c.emoji_category_list_node)==null?void 0:(a=a.emoji_categories)==null?void 0:a.nodes)!=null?a:[]},[(a=c.emoji_category_list_node)==null?void 0:(a=a.emoji_categories)==null?void 0:a.nodes]);a=i(function(){var a={};for(var b=e,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(d>=b.length)break;f=b[d++]}else{d=b.next();if(d.done)break;f=d.value}f=f;var g=f.id;f=f.localized_name;if(g==null||f==null)continue;a[g]=f}return a},[e]);return a}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiCategorySelector.react",["CometEmojiCategories","CometEmojiCategoryIcon.react","react","useCometCategoriesLocalizedName"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.activeCategory,e=a.onSelect,f=c("useCometCategoriesLocalizedName")();return h.jsx("div",{className:"c8dj4xom jcxyg2ei jl2a5g8c alzwoclg r4jidfu8 s9ok87oh c26d6ho5 k0kqjr44 o9w3sbdw",children:d("CometEmojiCategories").ORDERED_CATEGORIES.map(function(a){var d=a.icon;a=a.id;var g=f[a],i=b===a;return h.jsx(c("CometEmojiCategoryIcon.react"),{active:i,category:a,icon:d,name:g,onClick:e},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiGrid.react",["CometEmojiButton.react","CometFocusTable.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var e=a.columns,f=a.emojiCollection,g=a.emojiSize,i=a.emojiSpacing,j=a.hidden,k=a.label,l=a.onClick,m=a.onLongPress,n=a.selectedEmoji,o=a.testid;if(f.length===0)return null;var p={marginLeft:2,marginRight:2};i!=null&&(p.marginLeft=i,p.marginRight=i);a=[];i=Math.ceil(f.length/e);if(j!==!0)for(var q=0;q<i;q++){var r=[];j=function(a){var i=q*e+a,j=f[i];if(j!=null){var k;k=((k=o)!=null?k:"CometEmojiButton-")+j.id;r[a]=h.jsx("div",{className:"g90fjkqk fzsidkae jvc6uz2b aglvbi8b",role:"gridcell",style:p,children:h.jsx(d("CometFocusTable.react").CometFocusCell,{children:h.jsx(c("CometEmojiButton.react"),{codepoints:j.codepoints,onClick:function(a){return l&&l(a,i)},onLongPress:function(a,b){return m&&m(a,i,b)},ref:q===0&&a===0?b:void 0,selected:n!=null&&String.fromCodePoint.apply(null,j.codepoints)===n,size:g,testid:void 0})})},j.id)}};for(var s=0;s<e;s++)j(s);a[q]=h.jsx("div",{className:"nq2b4knc",role:"row",children:h.jsx(d("CometFocusTable.react").CometFocusRow,{children:r})},q)}j=i*40;return k!=null?h.jsxs("div",{"aria-label":k,"data-testid":void 0,role:"rowgroup",children:[h.jsx("div",{"aria-hidden":!0,className:"th51lws0 bhi259hv laatuukc nfkogyam rtxb060y",children:k}),h.jsx("div",{style:{minHeight:j},children:a})]}):h.jsx("div",{"data-testid":void 0,children:h.jsx("div",{style:{minHeight:j},children:a})})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(h.forwardRef(a));g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiGridLoading.react",["BaseGlimmer.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=(a=a.count)!=null?a:20;var b=[];for(var d=0;d<a;d++)b.push(h.jsx(c("BaseGlimmer.react"),{className:"g90fjkqk r55ey5z8 l3gxykhd qw5erqoo fzsidkae jvc6uz2b trbvugp6 j94dm2s7 j32recxq p5mefues",index:0},d));return h.jsxs(h.Fragment,{children:[h.jsx(c("BaseGlimmer.react"),{className:"lwqmdtw6 i0rxk2l3 r55ey5z8 laatuukc cl67t5wl trbvugp6 j94dm2s7 j32recxq p5mefues",index:0}),h.jsx("div",{className:"t5n4vrf6 o7bt71qk alzwoclg",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiVariants.react",["CometEmojiButton.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.anchorX,d=a.anchorY,e=a.emojiSize,f=a.onSelect;a=a.variants;b=babelHelpers["extends"]({},b,{top:d});return h.jsx("div",{className:"s8sjc6am aglvbi8b k0kqjr44",style:b,children:a.map(function(a,b){return h.jsx("div",{className:"r55ey5z8 l3gxykhd qw5erqoo fzsidkae aglvbi8b",children:h.jsx(c("CometEmojiButton.react"),{codepoints:a,onClick:f,size:e})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("cometEmojiPickerReducer",[],function(a,b,c,d,e,f){"use strict";function a(a,b){var c;switch(b.type){case"set-category":return babelHelpers["extends"]({},a,{category:b.category});case"mark-visible":return babelHelpers["extends"]({},a,{visibleCategories:babelHelpers["extends"]({},a.visibleCategories,(c={},c[b.category]=!0,c))});case"show-variant-overlay":return babelHelpers["extends"]({},a,{overlay:{categoryIdx:b.categoryIdx,emojiIdx:b.emojiIdx,variants:b.variants,x:b.anchorX,y:b.anchorY}});case"hide-variant-overlay":return babelHelpers["extends"]({},a,{overlay:null});default:return a}}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("scrollElementToPosition",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=document.documentElement;d=d!=null&&"scrollBehavior"in(d==null?void 0:d.style);if(d){a.scrollTo({behavior:"smooth",left:b,top:c});return}if(a.scrollTo!=null){a.scrollTo(b,c);return}a.scrollLeft=b;a.scrollTop=c}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiDataSource",["CometEmojiDataSourceQuery.graphql","RelayHooks"],function(a,b,c,d,e,f,g){"use strict";var h,i={};function a(a,c,e,f){var g={},j=[],k=!1;for(var c=c,l=Array.isArray(c),m=0,c=l?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=c.length)break;n=c[m++]}else{m=c.next();if(m.done)break;n=m.value}n=n;n in i?(k=!0,g[n]=i[n]):(g[n]=null,j.push(n))}n={unsubscribe:function(){}};j.length>0&&(n=d("RelayHooks").fetchQuery(a,h!==void 0?h:h=b("CometEmojiDataSourceQuery.graphql"),{ids:j}).subscribe({complete:function(){f()},next:function(a){a=(a=(a=a.emoji_categories)==null?void 0:a.nodes)!=null?a:[];for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var f=d.emojis_in_category,h=d.id;d=d.localized_name;if(h==null)continue;f=f.map(function(a){a=a.codepoint;return{codepoints:a,id:a.join("_")}});f={emojis:f,id:h,localizedName:d};h in i||(i[h]=f);g[h]||(g[h]=i[h])}e(babelHelpers["extends"]({},g))}}));k&&e(g);j.length<1&&f();return n}g.fetchCategoryData=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometEmojiData",["CometEmojiDataSource","CometRelay","react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useMemo,k=b.useState;function a(a){var b=j(function(){var b={},c=[];for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.push(g.id);b[g.id]=null}return[b,c]},[a]),c=b[0],e=b[1];b=k(c);c=b[0];var f=b[1],g=h(function(a){f(a)},[f]),l=d("CometRelay").useRelayEnvironment();i(function(){var a=d("CometEmojiDataSource").fetchCategoryData(l,e,g,function(){});return function(){a.unsubscribe()}},[e,l,g]);return c}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometEmojiPicker.react",["fbt","CometEmojiCategories","CometEmojiCategorySelector.react","CometEmojiGrid.react","CometEmojiGridLoading.react","CometEmojiVariants.react","CometFocusTable.react","CometPlaceholder.react","CometScrollableArea.react","FBEmojiUtils","KeyCommandHandler.react","cometEmojiPickerReducer","focusScopeQueries","react","scrollElementToPosition","stylex","useCometEmojiData","useThrottled"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useReducer,m=b.useRef,n={container:{marginEnd:"qw5erqoo",marginStart:"r55ey5z8"},emoji:{flexBasis:"jg3vgc78",flexGrow:"cgu29s5g",flexShrink:"i15ihif8",overflowX:"lq84ybu9",overflowY:"hf30pyar"},overlayMask:{backgroundColor:"j98654j2",bottom:"z6erz7xo",boxSizing:"bdao358l",end:"on4d8346",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9"},picker:{alignItems:"o9w3sbdw",display:"alzwoclg",flexDirection:"cqf1kptm",justifyContent:"t5n4vrf6"},scroll:{maxHeight:"fyn85a33"}},o={category:d("CometEmojiCategories").ORDERED_CATEGORIES[0].id,overlay:null,visibleCategories:(e={},e[d("CometEmojiCategories").ORDERED_CATEGORIES[0].id]=!0,e)},p=function(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.stopPropagation()};function q(a){var b=m(!1);return function(){b.current||(a(),b.current=!0)}}function a(a){var b=a.gridColumns,e=a.height,f=a.onSelect,g=a.selectedEmoji,r=a.topSection,s=a.xstyle,t=a.categorySelector;t=t===void 0?c("CometEmojiCategorySelector.react"):t;var u=a.testid,v=a.emojiSpacing,w=a.emojiSize;u=l(c("cometEmojiPickerReducer"),o);var x=u[0],y=u[1],z=k(function(){var a={};for(var b=d("CometEmojiCategories").ORDERED_CATEGORIES,c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f=f.id;a[f]={firstItem:i.createRef(),sectionContainer:i.createRef()}}return a},[]),A=c("useCometEmojiData")(d("CometEmojiCategories").ORDERED_CATEGORIES),B=m(null);a=j(function(a){var b,d,e;b=(b=z[a])==null?void 0:b.sectionContainer.current;d=(d=z[a])==null?void 0:d.firstItem.current;e=(e=B.current)==null?void 0:e.getDOMNode();(b!=null||d!=null)&&e!=null&&(d!=null&&d.focus(),c("scrollElementToPosition")(e,0,(b||d).offsetTop));y({category:a,type:"set-category"})},[y,z]);var C=q(function(){for(var a=d("CometEmojiCategories").ORDERED_CATEGORIES,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;y({category:e.id,type:"mark-visible"})}});u=j(function(){var a,b=null,c=Infinity;a=(a=(a=B.current)==null?void 0:(a=a.getDOMNode())==null?void 0:a.scrollTop)!=null?a:0;var d=e/2;for(var f in z){var g;g=(g=z[f])==null?void 0:g.sectionContainer.current;if(g==null)continue;g=(g=g.offsetTop)!=null?g:Infinity;(b==null||g-a<d&&g>c)&&(b=f,c=g)}b!=null&&x.category!==b&&y({category:b,type:"set-category"});C()},[e,C,z,x.category]);u=c("useThrottled")(u);var D=(b=b)!=null?b:8,E=j(function(a,b,c,e){e=e.current;if(e==null)return;var g=[a].concat(d("FBEmojiUtils").getSupportedModifierSequences(a));if(g.length>1){var h,i;h=Math.max((h=w)!=null?h:36,36)+4;i=(i=B.current)==null?void 0:i.getDOMNode();if(i!=null){var j=-2,k=-1*h;e=e;while(e!=null&&e!==i)j+=e instanceof HTMLElement?e.offsetLeft:0,k+=e instanceof HTMLElement?e.offsetTop:0,e=e instanceof HTMLElement?e.offsetParent:null;e=g.length*h;i=j+e>D*h?{right:0}:{left:j};y({anchorX:i,anchorY:k,categoryIdx:b,emojiIdx:c,type:"show-variant-overlay",variants:g})}}else f(a,b,c)},[D,y,w,f,B]);b=k(function(){return d("CometEmojiCategories").ORDERED_CATEGORIES.map(function(a,b){a=a.id;if(A[a]!=null){var d=A[a],e=d.emojis;d=d.localizedName;return i.jsx("div",{ref:z[a].sectionContainer,children:i.jsx(c("CometEmojiGrid.react"),{columns:D,emojiCollection:e,emojiSize:w,emojiSpacing:v,hidden:x.visibleCategories[a]!==!0,label:(e=d)!=null?e:"",onClick:function(a,c){return f(a,b,c)},onLongPress:function(a,c,d){return E(a,b,c,d)},ref:z[a].firstItem,selectedEmoji:g},a)},a)}return i.jsx("div",{ref:z[a].sectionContainer,children:i.jsx(c("CometEmojiGridLoading.react"),{},a)},a)})},[A,g,D,w,v,E,f,z,x.visibleCategories]);var F=j(function(){y({type:"hide-variant-overlay"})},[y]),G=j(function(a,b,c){y({type:"hide-variant-overlay"}),f(a,b,c)},[y,f]),H=x.overlay;F=H==null?null:i.jsx("div",{className:c("stylex")(n.overlayMask),onClick:F,children:i.jsx(c("CometEmojiVariants.react"),{anchorX:H.x,anchorY:H.y,emojiSize:w,onSelect:function(a){return G(a,H.categoryIdx,H.emojiIdx)},variants:H.variants})});var I=x.category;return i.jsxs("div",{className:c("stylex")(n.picker),"data-testid":void 0,style:{height:e},children:[i.jsx("div",{className:c("stylex")(n.emoji,s),children:i.jsx(c("CometScrollableArea.react"),{horizontal:!1,onScroll:u,ref:B,xstyle:n.scroll,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:p,children:i.jsx(d("CometFocusTable.react").CometFocusTable,{allowModifiers:!0,label:h._("__JHASH__4k1KIwNq8iH__JHASH__"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,children:i.jsxs("div",{className:c("stylex")(n.container),children:[r,b,F]})})})})}),i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{}),children:i.createElement(t,{activeCategory:I,onSelect:a})})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSFaceHappySvgIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M21.995 14c-.937 0-1.5.75-1.5 2s.563 2 1.5 2c.938 0 1.5-.75 1.5-2s-.562-2-1.5-2m-8 0c-.937 0-1.5.75-1.5 2s.563 2 1.5 2c.938 0 1.5-.75 1.5-2s-.562-2-1.5-2m10.136 6.731a1.038 1.038 0 00-1.44.122 6.183 6.183 0 01-4.698 2.142 6.183 6.183 0 01-4.697-2.142 1.04 1.04 0 00-1.44-.122.984.984 0 00-.125 1.408 8.242 8.242 0 006.262 2.855 8.243 8.243 0 006.263-2.855.984.984 0 00-.125-1.408M18 30c-6.628 0-12-5.372-12-12 0-6.627 5.372-12 12-12 6.627 0 12 5.373 12 12 0 6.628-5.373 12-12 12",fillRule:"evenodd"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSSvgBulbIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M23.281 18.825c-.723.718-1.373 1.542-1.62 2.53l-.472 1.887a1 1 0 01-.97.758h-4.438a1 1 0 01-.97-.758l-.472-1.887c-.247-.988-.897-1.812-1.62-2.53A7.477 7.477 0 0110.5 13.5c0-4.142 3-7.5 7.5-7.5s7.5 3.358 7.5 7.5a7.477 7.477 0 01-2.219 5.325zM16 26a1 1 0 00-1 1v.586a1 1 0 00.293.707l1.414 1.414a1 1 0 00.707.293h1.172a1 1 0 00.707-.293l1.414-1.414a1 1 0 00.293-.707V27a1 1 0 00-1-1h-4z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSSvgCarIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.196 11.057C9.669 9.2 11.355 8 13.199 8H22.8c1.844 0 3.53 1.2 4.003 3.057.318 1.245.696 2.928.861 4.488.012.111.06.216.137.297l1.37 1.439A3 3 0 0130 19.35V27a1 1 0 01-1 1h-2a1 1 0 01-1-1v-1.31a.503.503 0 00-.546-.499c-2.328.2-4.838.309-7.454.309-2.616 0-5.126-.109-7.454-.309a.503.503 0 00-.546.5V27a1 1 0 01-1 1H7a1 1 0 01-1-1v-7.65a3 3 0 01.828-2.069l1.37-1.44a.507.507 0 00.137-.296c.165-1.56.543-3.243.86-4.488zm15.826 3.608a.492.492 0 01-.527.568A88.843 88.843 0 0018 15c-2.26 0-4.442.081-6.495.232a.492.492 0 01-.527-.566c.169-1.027.41-2.086.64-2.991.174-.68.807-1.175 1.58-1.175h9.603c.774 0 1.407.495 1.58 1.175.232.905.472 1.964.641 2.99zm-1.983 5.566l.17.284a1 1 0 00.857.485H26c.828 0 1.5-.895 1.5-2v-.5a.5.5 0 00-.724-.446l-3.635 1.825a.25.25 0 00-.102.352zm-10.078 0l-.17.284a1 1 0 01-.857.485H10c-.828 0-1.5-.895-1.5-2v-.5a.5.5 0 01.724-.446l3.635 1.825a.25.25 0 01.102.352z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSSvgCatIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.216 9.172c.29.441.86.608 1.353.423 1.021-.381 2.164-.592 3.43-.592 1.168 0 2.374.213 3.43.597.495.181 1.065.014 1.355-.428 1.158-1.767 2.184-2.61 2.827-3.005a1.112 1.112 0 011.332.125c2.015 1.792 1.91 5.55.616 8.043-.329.632-.442 1.374-.233 2.055.45 1.465.674 3.04.674 4.613 0 2.997-4.037 8-10 8-5.964 0-10-5.003-10-8 0-1.574.222-3.148.673-4.614.21-.681.096-1.423-.232-2.055-1.294-2.492-1.399-6.25.616-8.042a1.112 1.112 0 011.332-.125c.643.394 1.67 1.238 2.827 3.005zm-1.496 2.175a.51.51 0 00.102-.639c-.627-1.027-1.192-1.707-1.64-2.152a.222.222 0 00-.364.067c-.269.635-.394 1.504-.271 2.545.072.61.217 1.17.406 1.66.07.181.313.2.427.04a9.756 9.756 0 011.34-1.52zm13.9 1.522c.113.16.357.141.427-.041a6.85 6.85 0 00.406-1.66c.123-1.04-.002-1.91-.27-2.545a.222.222 0 00-.366-.067c-.447.445-1.013 1.125-1.639 2.153a.51.51 0 00.102.639c.497.456.943.967 1.34 1.521zM14 15.5c-.938 0-1.5.657-1.5 1.75 0 1.095.562 1.75 1.5 1.75.937 0 1.5-.655 1.5-1.75 0-1.093-.563-1.75-1.5-1.75zm4 6.75c-.858 0-1.75-.758-1.75-1.63 0-.689.871-1.12 1.75-1.12.878 0 1.75.431 1.75 1.12 0 .872-.973 1.63-1.75 1.63zm2.5-5c0-1.093.562-1.75 1.5-1.75.937 0 1.5.657 1.5 1.75 0 1.095-.563 1.75-1.5 1.75-.938 0-1.5-.655-1.5-1.75zm-3.128 6.426c-.41.144-.924.325-1.372.325-.426 0-.719-.163-.969-.303-.188-.105-.352-.197-.531-.197-.28 0-.5.222-.5.5 0 .548 1.123 2 4 2s4-1.452 4-2c0-.278-.22-.5-.5-.5-.18 0-.344.092-.532.197-.25.14-.542.303-.968.303-.449 0-.963-.181-1.372-.325-.272-.096-.498-.175-.628-.175s-.357.08-.628.175z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSSvgFlagWavingIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M7.961 8.88c2.7-1.332 5.572-1.152 10.039.54 4.096 1.551 6.85 1.303 9.36.005.72-.372 1.64.11 1.64.92v15.132c0 .687-.345 1.34-.961 1.644-2.7 1.33-5.572 1.15-10.039-.541-4.096-1.551-6.85-1.303-9.36-.005-.72.372-1.64-.11-1.64-.92V10.524c0-.687.345-1.34.961-1.644z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSSvgForkKnifeIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M9 7a1 1 0 011 1v7a1 1 0 102 0V8a1 1 0 011-1h.5a1 1 0 011 1v7a1 1 0 102 0V8a1 1 0 011-1h.5a1 1 0 011 1v8.91a4 4 0 01-1.716 3.284l-1.926 1.34a2 2 0 00-.858 1.642V28a1 1 0 01-1 1H13a1 1 0 01-1-1v-4.825a2 2 0 00-.858-1.641l-1.926-1.34A4 4 0 017.5 16.91V8a1 1 0 011-1H9zm12.5 5.053A5.053 5.053 0 0126.553 7c.523 0 .947.424.947.947V28a1 1 0 01-1 1H26a1 1 0 01-1-1v-6a1 1 0 00-1-1h-1.5a1 1 0 01-1-1v-7.947z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSSvgSymbolsIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M22.75 8.25a1.25 1.25 0 112.5 0v2.25c0 .138.112.25.25.25h2.25a1.25 1.25 0 110 2.5H25.5a.25.25 0 00-.25.25v2.25a1.25 1.25 0 11-2.5 0V13.5a.25.25 0 00-.25-.25h-2.25a1.25 1.25 0 110-2.5h2.25a.25.25 0 00.25-.25V8.25zm-5.753 2.104a2.66 2.66 0 00.003-.127C17 8.721 15.83 7.5 14.386 7.5c-1.045 0-1.946.64-2.365 1.565a.024.024 0 01-.042 0C11.56 8.14 10.659 7.5 9.614 7.5 8.17 7.5 7 8.721 7 10.227c0 .043 0 .085.003.127.116 3.525 3.878 6.149 4.997 6.149 1.119 0 4.88-2.624 4.997-6.15zm-.166 10.524a1.25 1.25 0 00-2.162-1.256l-3.441 5.927a.15.15 0 01-.236.03l-1.858-1.858a1.25 1.25 0 00-1.768 1.768l3.145 3.145a1.25 1.25 0 001.965-.256l4.355-7.5zm4.419-1.628a2 2 0 00-2 2v5.5a2 2 0 002 2h5.5a2 2 0 002-2v-5.5a2 2 0 00-2-2h-5.5z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSSvgTennisBallIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsxs(b("MDSSvgIcon.bs").make,{size:a,color:c,children:[h.jsx("path",{d:"M10.127 11.532a.668.668 0 00-1.057.044A10.95 10.95 0 007 18c0 2.398.767 4.617 2.07 6.424a.668.668 0 001.057.044A9.96 9.96 0 0012.5 18a9.96 9.96 0 00-2.373-6.468z"}),h.jsx("path",{d:"M11.645 9.02c-.36.256-.382.77-.092 1.103A11.954 11.954 0 0114.5 18c0 3.014-1.111 5.769-2.947 7.877-.29.333-.268.847.092 1.103A10.95 10.95 0 0018 29c2.367 0 4.56-.748 6.355-2.02.36-.256.382-.77.092-1.103A11.954 11.954 0 0121.5 18c0-3.014 1.111-5.769 2.947-7.877.29-.333.268-.847-.092-1.103A10.95 10.95 0 0018 7c-2.367 0-4.56.748-6.355 2.02z"}),h.jsx("path",{d:"M23.5 18a9.96 9.96 0 012.373-6.468.668.668 0 011.057.044A10.95 10.95 0 0129 18a10.95 10.95 0 01-2.07 6.424.668.668 0 01-1.057.044A9.96 9.96 0 0123.5 18z"})]})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatEmojiCategories.bs",["MDSFaceHappySvgIcon.bs","MDSSvgBulbIcon.bs","MDSSvgCarIcon.bs","MDSSvgCatIcon.bs","MDSSvgFlagWavingIcon.bs","MDSSvgForkKnifeIcon.bs","MDSSvgSymbolsIcon.bs","MDSSvgTennisBallIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=[{icon:function(a){return h.jsx(b("MDSFaceHappySvgIcon.bs").make,{color:a,size:"18"})},id:"1795127124089732"},{icon:function(a){return h.jsx(b("MDSSvgCatIcon.bs").make,{color:a,size:"18"})},id:"1117693864983467"},{icon:function(a){return h.jsx(b("MDSSvgForkKnifeIcon.bs").make,{color:a,size:"18"})},id:"337864463246293"},{icon:function(a){return h.jsx(b("MDSSvgTennisBallIcon.bs").make,{color:a,size:"18"})},id:"1251900681534964"},{icon:function(a){return h.jsx(b("MDSSvgCarIcon.bs").make,{color:a,size:"18"})},id:"189719128099581"},{icon:function(a){return h.jsx(b("MDSSvgBulbIcon.bs").make,{color:a,size:"18"})},id:"629625430553130"},{icon:function(a){return h.jsx(b("MDSSvgSymbolsIcon.bs").make,{color:a,size:"18"})},id:"1642676819358192"},{icon:function(a){return h.jsx(b("MDSSvgFlagWavingIcon.bs").make,{color:a,size:"18"})},id:"1068040353319407"}];f.orderedCategories=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatEmojiCategorySelector.bs",["fbt","MWChatEmojiCategories.bs","MWIcon.react","MWMessageCellFocusTable.bs","MWTooltip.react","bs_belt_Option","bs_curry","bs_js_dict","focusScopeQueries","react","stylex","useCometCategoriesLocalizedName"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={selector:{alignItems:"o9w3sbdw",backgroundColor:"k0kqjr44",borderTopColor:"c26d6ho5",borderTopStyle:"s9ok87oh",borderTopWidth:"r4jidfu8",display:"alzwoclg",justifyContent:"q3dhrzj9",minHeight:"c8dj4xom",paddingEnd:"i5oewl5a",paddingStart:"nnzkd6d7"},categoryIcon:{marginEnd:"lxowtz8q",marginStart:"iec8yc8l",marginBottom:"qjfq86k5",marginTop:"ihx95mk1"}};function l(a){var c=a.isActive,d=a.category,e=a.icon,f=a.name,g=a.onClick,h=c?"blueLink":"secondary";a=function(a){return b("bs_curry")._1(e,h)};c=j.jsx(b("MWIcon.react"),{"aria-label":b("bs_belt_Option").getWithDefault(f,"emoji-category"),"aria-pressed":c,icon:a,onPress:function(a){return b("bs_curry")._1(g,d)},testid:"mw_chat_emoji_category_selector_icon_"+d});return j.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:j.jsx("li",{className:(i||(i=b("stylex")))(k.categoryIcon),role:"gridcell",children:f!==void 0?j.jsx(b("MWTooltip.react"),{tooltip:f,align:"middle",position:"above",children:c}):c})})}c={make:l};function a(a){var c=a.activeCategory,d=a.onSelect,e=b("useCometCategoriesLocalizedName")();return j.jsx(b("MWMessageCellFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:!0,children:j.jsx("div",{role:"grid","aria-label":g._("__JHASH__OSJ2g92Q0W0__JHASH__").toString(),children:j.jsx(b("MWMessageCellFocusTable.bs").Table_.Row.make,{children:j.jsx("ul",{className:(i||(i=b("stylex")))(k.selector),role:"row",children:b("MWChatEmojiCategories.bs").orderedCategories.map(function(a){var f=b("bs_js_dict").get(e,a.id),g=c===a.id;return j.jsx(l,{isActive:g,category:a.id,icon:a.icon,name:f,onClick:d},a.id)})})})})})}d=a;f.styles=k;f.CategoryIcon=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("UnicodeUtils.bs",["UnicodeUtils"],function(a,b,c,d,e,f){"use strict";var g;function a(a){return(g||(g=b("UnicodeUtils"))).getCodePoints(a)}f.getCodePoints=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatEmojiPicker.bs",["fbt","CometEmojiGrid.react","CometEmojiPicker.react","CometFocusTable.react","CometLazyDialogTrigger.react","CometPopover.react","CometPressable.react","JSResource","MWChatEmojiCategorySelector.bs","MWChatMessageId.bs","MWText.react","UnicodeUtils.bs","bs_curry","bs_int64","gkx","react","requireDeferred","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={emojiPickerContainer:{width:"ngws25gg",paddingTop:"pvreidsc"},emojiPicker:{paddingStart:"lcfup58g"},topSection:{display:"alzwoclg",flexDirection:"cqf1kptm",alignItems:"gldv74r8",marginStart:"nzyclvq3",width:"mfclru0v"}},l=b("gkx")("467"),m=b("requireDeferred")("MWChatCustomReactionsLog.bs").__setRef("MWChatEmojiPicker.bs");function n(a){var c=a.onSelect,d=a.reactions,e=a.selectedEmoji,f=a.messageID,h=a.threadKey,n=j.useMemo(function(){return d.map(function(a){return{codepoints:b("UnicodeUtils.bs").getCodePoints(a.emoji),id:b("bs_int64").to_string(a.emojiIdx)}})},[d]),o=j.useCallback(function(a){m.onReady(function(a){return b("bs_curry")._2(a.logEnterCustomizeFlow,f,h)})},[JSON.stringify(h),f]);j.useRef(null);a=j.useMemo(function(){var a={onClick:c,label:g._("__JHASH__kJyxemnI5ZP__JHASH__"),emojiCollection:n,columns:6,emojiSpacing:4,emojiSize:28};e!==void 0&&(a.selectedEmoji=e);return j.jsxs("div",{className:(i||(i=b("stylex")))(k.topSection),children:[l?j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeReactionsDialog").__setRef("MWChatEmojiPicker.bs"),dialogProps:{onClose:function(a){},messageID:f,threadKey:h,reactions:d},children:function(a){return j.jsx(b("CometFocusTable.react").CometFocusRow,{children:j.jsx(b("CometFocusTable.react").CometFocusCell,{children:j.jsx(b("CometPressable.react"),{testid:"mw_chat_emoji_picker_customize_button",onPress:function(c){b("bs_curry")._1(a,void 0);return b("bs_curry")._1(o,void 0)},style:{marginTop:"6px",marginRight:"9px",marginBottom:"-21px",zIndex:"1"},children:j.jsx(b("MWText.react"),{type:"bodyLink4",children:g._("__JHASH__BBwala8AXtL__JHASH__")})})}),role:"row"})}}):null,j.jsx(b("CometEmojiGrid.react"),a,"your-reactions-grid")]})},[n,c,e,l,f,d,o,JSON.stringify(h)]);a={height:305,onSelect:c,topSection:a,xstyle:k.emojiPicker,gridColumns:6,categorySelector:b("MWChatEmojiCategorySelector.bs").make,emojiSpacing:4,emojiSize:28};e!==void 0&&(a.selectedEmoji=e);return j.jsx(b("CometPopover.react"),{withArrow:!0,children:j.jsx("div",{className:(i||(i=b("stylex")))(k.emojiPickerContainer),children:j.jsx(b("CometEmojiPicker.react"),a)}),testid:"mw_chat_emoji_picker"})}c={make:n};function a(a){var c=a.onSelect,d=a.reactions,e=a.selectedEmoji;a=a.messageID;var f=b("MWChatMessageId.bs").getMessageId(a);a=b("MWChatMessageId.bs").getThreadId(a);if(f!==void 0&&a!==void 0)return j.jsx(n,{onSelect:c,reactions:d,selectedEmoji:e,messageID:f,threadKey:a});else return null}d=a;f.styles=k;f.withCustomReactions=l;f.$MWChatCustomReactionsLog$Deferred=m;f.MWChatEmojiPickerInner=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatReactionsMenu.bs",["fbt","ix","CometKeys","CometPressable.react","EmojiFormat.bs","EmojiRenderer","FocusRegion.react","KeyCommandHandler.react","LSEmojiSetsType.bs","MAWGating.bs","MWChatEmojiPicker.bs","MWChatMessageBothOrientationFocusGroup.bs","MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWInboxPassiveContext.bs","MWMessageCellFocusTable.bs","ReQL.bs","ReQLSubscription.bs","TetraCircleButton.react","bs_caml","bs_caml_obj","bs_curry","bs_int64","cr:1843690","fbicon","focusScopeQueries","gkx","react","recoverableViolation","stylex","useReStore"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={menu:{borderTop:"n3hqoq4p",borderEnd:"r86q59rh",borderBottom:"b3qcqh3k",borderStart:"fq87ekyn",backgroundColor:"oab4agdp",borderTopStartRadius:"s2rrnb06",borderTopEndRadius:"ip22jx6y",borderBottomEndRadius:"ob8im9oz",borderBottomStartRadius:"kmkg2yfl",boxShadow:"qdjxsfl2",display:"alzwoclg",paddingEnd:"aesu6q9g",paddingStart:"e4ay1f3w",paddingTop:"q46jt4gp",paddingBottom:"r5g9zsuq"},item:{display:"aglvbi8b",paddingTop:"ngbj85sm",paddingEnd:"pdnn8mpk",paddingBottom:"rt9i6ysf",paddingStart:"f1iqohp5"},selected:{backgroundColor:"rm3z77c7",borderTopStartRadius:"g5wz1qxj",borderTopEndRadius:"j5sawac9",borderBottomEndRadius:"ic315ntz",borderBottomStartRadius:"age4883t"}},m=b("gkx")("467")||b("gkx")("4428"),n=b("gkx")("4428");function o(a){var c=b("useReStore")(),d=b("ReQLSubscription.bs").useArray(k.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").fromTableDescending(c.table("emoji_sets")),function(a){return b("bs_caml").i64_eq(a.type_,b("LSEmojiSetsType.bs").userGenerated)})},[c])),e=k.useMemo(function(){return d.sort(function(a,c){return b("bs_int64").compare(a.sortKey,c.sortKey)}).reduce(function(a,b){var c=b.emoji;if(c!==void 0)return a.concat([{categoryIdx:b.categoryIdx,emojiIdx:b.emojiIdx,emoji:c,type_:b.type_,sortKey:b.sortKey}]);else return a},[])},[d]),f=e.length===b("MWChatReactionsUtils.bs").cUSTOM_REACTIONS_NUM;if(a)if(f)return e;else return b("MWChatReactionsUtils.bs").defaultCustomizableReactions;else return b("MWChatReactionsUtils.bs").defaultStaticReactions}function p(a){var c=a.selected,d=a.emoji,e=a.onSelect;a=b("MWInboxPassiveContext.bs").useContext(void 0);var f=a.setIsPassive;a=k.useMemo(function(){return b("EmojiRenderer").parse(d).map(function(a){return a.emoji})},[d]);if(a.length!==1){b("recoverableViolation")("Unable to parse reaction emoji "+d,"messenger_comet");return null}a=a[0];a=k.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:k.jsx(b("CometPressable.react"),{role:"menuitem",onPress:function(a){b("gkx")("6531")&&b("bs_curry")._1(f,function(a){return!1});return b("bs_curry")._1(e,void 0)},overlayDisabled:!0,xstyle:function(a){return[l.item,c?l.selected:!1]},children:b("cr:1843690")==null?k.jsx(b("MWChatReactionEmoji.bs").make,{emoji:a,size:32,testid:"reactions_emoji_"+d}):k.jsx(b("cr:1843690").make,{emoji:a,hasTooltip:!0,size:32,testid:"reactions_emoji_"+d})})});return k.jsx(b("MWChatMessageBothOrientationFocusGroup.bs").Group_.Item.make,{children:a})}c={make:p};d={key:b("CometKeys").UP};e={key:b("CometKeys").DOWN};var q=[];function a(a){var c=a.onSelect,d=a.selectedReaction,e=a.onClose,f=a.closeActionsMenu,i=a.showEmojiPicker,r=a.setShowEmojiPicker,s=a.messageID,t=a.isSecure;a=a.disableCustomReactions;t=t!==void 0?t:!1;a=a!==void 0?a:!1;var u=function(a){var c=a.key;if(c==="Escape")return b("bs_curry")._1(f,void 0);else if(!i&&(c==="ArrowUp"||c==="ArrowDown")||c==="ArrowLeft"||c==="ArrowRight"||c==="PageUp"||c==="PageDown"||c==="Home"||c==="End"){a.stopPropagation();return}else return},v=g._("__JHASH__plktFYNJzZQ__JHASH__");t=t?b("MAWGating.bs").isCustomReactionsEnabled(void 0)&&m:m&&!a;a=o(t);var w=k.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(h("483767"),12),label:g._("__JHASH__rcFhvEPmBgd__JHASH__"),onPress:function(a){return b("bs_curry")._1(r,function(a){return!a})},size:36,testid:"mw_chat_reactions_plus_button",type:"normal"}),x=k.useMemo(function(){return function(a,d,f){b("bs_curry")._1(c,b("EmojiFormat.bs").codeArrayToUnicode(a));return b("bs_curry")._1(e,void 0)}},[c,e]);x=i?k.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,children:k.jsx(b("MWChatEmojiPicker.bs").make,{onSelect:x,reactions:n?q:a,selectedEmoji:d,messageID:s})}):k.createElement("div",{role:"menu","aria-orientation":"horizontal","aria-label":v,className:(j||(j=b("stylex")))(l.menu)},a.map(function(a){var f=a.emoji;return k.jsx(p,{selected:b("bs_caml_obj").caml_equal(d,f),emoji:f,onSelect:function(a){b("bs_curry")._1(c,f);return b("bs_curry")._1(e,void 0)}},f)}).concat([t?k.jsx(b("MWChatMessageBothOrientationFocusGroup.bs").Group_.Item.make,{children:w},"plus-button"):null]));return k.jsx(b("MWChatMessageBothOrientationFocusGroup.bs").Group_.Group.make,{children:k.jsx(b("KeyCommandHandler.react"),{children:x,onKeyDown:u}),orientation:"both",tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,allowModifiers:!0,preventScrollOnFocus:!1})}var r=b("cr:1843690");a=a;f.styles=l;f.$ChatGeminiReactionImageWithTooltip$OR$null$requireCond=b("cr:1843690");f.chatGeminiReactionImageWithTooltip=r;f.gkAllowCustomReactions=m;f.isWorkplaceCustomReactions=n;f.EmojiButton=c;f.keyUp=d;f.keyDown=e;f.workplaceCustomReactions=q;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatReactionsMenu",["MWChatReactionsMenu.bs"],function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWChatReactionsMenu.bs").make},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);